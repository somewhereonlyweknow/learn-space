<!DOCTYPE html>
<html>
  <head>
    <style type="text/css">
      .outer {
          width: 100px;
          background: #eee;
          height: 100px;
          margin-left: 300px;
          margin-top: 150px;
          display: flex;
          align-items: center;
          justify-content: center;
      }
  
      .inner {
          width: 50px;
          height: 50px;
          background: #ddd;
      }
  </style>
  </head>
  <body>
    <div class="outer">
      <div class="inner"></div>
    </div>

  </body>
  <!-- <script src="./index.js"></script> -->
  <script>
    var outer = document.querySelector('.outer'),
        inner = document.querySelector('.inner'),
        clickTimes = 0;

    new MutationObserver(() => {
        console.log('mutate');
    }).observe(outer, {
        attributes: true
    });

    function onClick() {
        console.log('click');

        setTimeout(() => {
            console.log('timeout');
        }, 0);

        Promise.resolve().then(() => {
            console.log('promise');
        });

        outer.setAttribute('data-click', clickTimes++);
    }

    inner.addEventListener('click', onClick);
    outer.addEventListener('click', onClick);

    inner.click();

    // console.log('done');
</script>
</html>